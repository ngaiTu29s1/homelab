/* --- GLOBAL STYLES (Áp dụng cho cả hai theme, Homer sẽ tự xử lý biến màu) --- */
body {
    background-color: var(--background); /* Sử dụng biến từ colors.yaml */
    background-size: cover;
    background-attachment: fixed;
    overflow-x: hidden;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text); /* Màu chữ mặc định */
    transition: background-color 0.5s ease; /* Chuyển đổi mượt mà giữa các theme */
}

/* --- GLOBAL KEYFRAMES (Các animation được định nghĩa một lần ở đây) --- */
@keyframes starfieldMove1 { from { background-position: 0 0; } to { background-position: -2000px -2000px; } }
@keyframes starfieldMove2 { from { background-position: 0 0; } to { background-position: 2500px 2500px; } }
@keyframes crackGlow {
    0% { box-shadow: 0 0 20px rgba(var(--highlight-primary-rgb), 0.8), 0 0 10px rgba(var(--highlight-secondary-rgb), 0.5); }
    50% { box-shadow: 0 0 30px rgba(var(--highlight-primary-rgb), 1), 0 0 15px rgba(var(--highlight-secondary-rgb), 0.7); }
    100% { box-shadow: 0 0 20px rgba(var(--highlight-primary-rgb), 0.8), 0 0 10px rgba(var(--highlight-secondary-rgb), 0.5); }
}
@keyframes diagonalGlint {
    0% { background-position: -100% -100%; }
    100% { background-position: 100% 100%; }
}


/* --- GLASS EFFECT BASE (Các thuộc tính kính cơ bản để tái sử dụng) --- */
.glass-effect {
    backdrop-filter: blur(25px) saturate(170%) brightness(1.25);
    -webkit-backdrop-filter: blur(25px) saturate(170%) brightness(1.25);
    border-radius: 18px; /* Mặc định bo tròn hơn */
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden; /* Quan trọng cho các hiệu ứng bên trong */
    perspective: 1000px;
}

/* Lớp phản chiếu bề mặt kính chung (Luôn hiển thị trên các glass-effect) */
.glass-effect::before {
    content: ''; /* QUAN TRỌNG: Tạo pseudo-element */
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.08) 20%, rgba(255, 255, 255, 0.12) 30%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0) 70%, rgba(255, 255, 255, 0.05) 80%, rgba(255, 255, 255, 0) 100%);
    opacity: 0.9;
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 2;
    transition: all 0.4s ease-in-out;
}
.glass-effect:hover::before {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.15) 20%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0) 70%, rgba(255, 255, 255, 0.1) 80%, rgba(255, 255, 255, 0) 100%);
    transform: translateX(-5%) translateY(-5%);
}


/* --- TEXT STYLES (Chữ và Liên kết - Mặc định KHÔNG CÓ glow/shadow, theme sẽ thêm vào) --- */
h1, h2, h3, h4, h5, h6, p, span, div, li { color: var(--text); transition: all 0.2s ease-in-out; }
.title { color: var(--text-title); }
.subtitle { color: var(--text-subtitle); }
a { color: var(--link); text-decoration: none; transition: color 0.3s ease-in-out; }
a:hover { color: var(--link-hover); }


/* ========================================================================= */
/* --- DARK THEME STYLES (MOCHA) --- */
html[data-theme="dark"] {
    /* --- STARFIELD LAYERS (Chỉ hiển thị trong Dark Theme) --- */
    body::before { /* Layer 1: Sao nhỏ, dày đặc, chuyển động nhanh */
        content: ''; /* QUAN TRỌNG */
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: transparent;
        box-shadow: /* ... (Thêm hàng trăm cặp box-shadow sao ở đây, lược bớt cho ngắn gọn) ... */
                    10px 10px 1px #fff, 20px 50px 1px #fff, 30px 20px 1px #fff, 40px 80px 1px #fff, 50px 30px 1px #fff, 60px 10px 1px #fff, 70px 70px 1px #fff, 80px 40px 1px #fff, 90px 90px 1px #fff, 100px 60px 1px #fff, 110px 20px 1px #fff, 120px 80px 1px #fff, 130px 50px 1px #fff, 140px 10px 1px #fff, 150px 40px 1px #fff, 160px 90px 1px #fff, 170px 30px 1px #fff, 180px 70px 1px #fff, 190px 100px 1px #fff, 200px 5px 1px #fff, 210px 50px 1px #fff, 220px 15px 1px #fff, 230px 85px 1px #fff, 240px 35px 1px #fff, 250px 95px 1px #fff, 260px 5px 1px #fff, 270px 65px 1px #fff, 280px 25px 1px #fff, 290px 75px 1px #fff, 300px 45px 1px #fff, 310px 10px 1px #fff, 320px 40px 1px #fff, 330px 70px 1px #fff, 340px 20px 1px #fff, 350px 50px 1px #fff, 360px 80px 1px #fff, 370px 30px 1px #fff, 380px 60px 1px #fff, 390px 90px 1px #fff, 400px 100px 1px #fff, 410px 5px 1px #fff, 420px 65px 1px #fff, 430px 25px 1px #fff, 440px 85px 1px #fff, 450px 45px 1px #fff, 460px 95px 1px #fff, 470px 15px 1px #fff, 480px 75px 1px #fff, 490px 35px 1px #fff, 500px 55px 1px #fff, 510px 20px 1px #fff, 520px 80px 1px #fff, 530px 50px 1px #fff, 540px 10px 1px #fff, 550px 40px 1px #fff, 560px 90px 1px #fff, 570px 30px 1px #fff, 580px 70px 1px #fff, 590px 100px 1px #fff, 600px 5px 1px #fff, 610px 50px 1px #fff, 620px 15px 1px #fff, 630px 85px 1px #fff, 640px 35px 1px #fff, 650px 95px 1px #fff, 660px 5px 1px #fff, 670px 65px 1px #fff, 680px 25px 1px #fff, 690px 75px 1px #fff, 700px 45px 1px #fff, 710px 10px 1px #fff, 720px 40px 1px #fff, 730px 70px 1px #fff, 740px 20px 1px #fff, 750px 50px 1px #fff, 760px 80px 1px #fff, 770px 30px 1px #fff, 780px 60px 1px #fff, 790px 90px 1px #fff, 800px 100px 1px #fff, 810px 5px 1px #fff, 820px 65px 1px #fff, 830px 25px 1px #fff, 840px 85px 1px #fff, 850px 45px 1px #fff, 860px 95px 1px #fff, 870px 15px 1px #fff, 880px 75px 1px #fff, 890px 35px 1px #fff, 900px 55px 1px #fff;
        animation: starfieldMove1 120s linear infinite;
        opacity: 0.8; z-index: -1; pointer-events: none;
        filter: drop-shadow(0 0 1px rgba(255, 255, 255, 0.7)); background-size: 1000px 1000px;
    }

    body::after { /* Layer 2: Sao lớn hơn, thưa hơn, chuyển động chậm */
        content: ''; /* QUAN TRỌNG */
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: transparent;
        box-shadow: 50px 100px 2px rgba(255, 255, 255, 0.8), 200px 20px 2px rgba(255, 255, 255, 0.8), 350px 150px 2px rgba(255, 255, 255, 0.8), 500px 70px 2px rgba(255, 255, 255, 0.8), 650px 200px 2px rgba(255, 255, 255, 0.8), 800px 40px 2px rgba(255, 255, 255, 0.8), 950px 180px 2px rgba(255, 255, 255, 0.8), 100px 250px 2px rgba(255, 255, 255, 0.8), 400px 50px 2px rgba(255, 255, 255, 0.8), 700px 120px 2px rgba(255, 255, 255, 0.8), 250px 300px 2px rgba(255, 255, 255, 0.8), 550px 10px 2px rgba(255, 255, 255, 0.8);
        animation: starfieldMove2 200s linear infinite reverse;
        opacity: 0.6; z-index: -2; pointer-events: none;
        filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.8)); background-size: 1000px 1000px;
    }

    /* --- GLASS CARDS (DARK) --- */
    .card {
        background-color: rgba(var(--card-background-rgb), 0.75);
        border: 1px solid rgba(var(--highlight-primary-rgb), 0.4);
        box-shadow: 0 12px 45px 0 rgba(0, 0, 0, 0.8),
                    inset 0 0 0 1.5px rgba(255, 255, 255, 0.15),
                    inset 0 0 25px rgba(var(--highlight-primary-rgb), 0.2);
    }
    .card:hover {
        transform: translateY(-10px) scale(1.03);
        box-shadow: 0 18px 60px 0 rgba(0, 0, 0, 0.9),
                    inset 0 0 0 2px rgba(255, 255, 255, 0.2),
                    inset 0 0 40px rgba(var(--highlight-primary-rgb), 0.35);
        border-color: rgba(var(--highlight-primary-rgb), 0.6);
    }

    /* --- CRACKED GLASS EFFECT (DARK) --- */
    .card .card-content::after {
        content: ''; /* QUAN TRỌNG */
        position: absolute; top: -5px; left: -5px; width: calc(100% + 10px); height: calc(100% + 10px);
        background-size: cover; background-repeat: no-repeat; background-position: center;
        pointer-events: none; z-index: 3;
        opacity: 0; transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
        filter: drop-shadow(0 0 8px rgba(var(--highlight-primary-rgb), 0.7));
        mix-blend-mode: screen;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="none" stroke="%23cdd6f4" stroke-width="0.8" stroke-linecap="round" d="M20 20 L40 40 L60 20 L80 40 M40 40 L30 60 L50 70 L70 50 L40 40 M50 70 L40 90 M70 50 L85 65 M15 50 L30 60" /><path fill="none" stroke="%2389b4fa" stroke-width="0.4" stroke-linecap="round" d="M25 25 L35 35 M65 25 L75 35 M35 65 L25 75 M75 55 L85 65 M55 75 L45 85" /><path fill="none" stroke="%23cba6f7" stroke-width="0.2" stroke-linecap="round" d="M22 23 L30 31 M68 23 L76 31 M32 68 L24 76 M78 58 L86 66 M52 78 L44 86" /></svg>');
        box-shadow: 0 0 20px rgba(var(--highlight-primary-rgb), 0.8), 0 0 10px rgba(var(--highlight-secondary-rgb), 0.5);
        animation: crackGlow 2.5s infinite alternate ease-in-out paused;
    }
    .card:hover .card-content::after { opacity: 1; transform: scale(1.02); animation-play-state: running; }

    /* --- DIAGONAL SUNBEAM (DARK) --- */
    .card .card-content::before {
        content: ''; /* QUAN TRỌNG */
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 20%, rgba(255, 255, 255, 0.5) 35%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0) 70%);
        background-size: 300% 300%; background-position: -100% -100%;
        opacity: 0; transition: opacity 0.3s ease-out; pointer-events: none;
        animation: diagonalGlint 1.8s linear infinite; animation-play-state: paused;
        mix-blend-mode: screen; filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.9)); z-index: 5;
    }
    .card:hover .card-content::before { opacity: 1; animation-play-state: running; }

    /* --- TEXT GLOWS (DARK) --- */
    h1, h2, h3, h4, h5, h6, p, span, div, li { text-shadow: 0 0 6px rgba(var(--highlight-primary-rgb), 0.5); }
    .title { text-shadow: 0 0 10px rgba(var(--text-title-rgb), 0.7), 0 0 15px rgba(var(--text-title-rgb), 0.3); }
    a { filter: drop-shadow(0 0 3px rgba(var(--highlight-primary-rgb), 0.4)); }
    a:hover {
        text-shadow: 0 0 12px var(--link-hover), 0 0 20px rgba(var(--highlight-secondary-rgb), 0.5);
        filter: drop-shadow(0 0 5px rgba(var(--highlight-secondary-rgb), 0.6));
    }
    .button:hover, button:not(.search-container button, nav.navbar a):hover {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5), 0 0 8px rgba(var(--highlight-secondary-rgb), 0.6);
        text-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
    }
    .item-icon, .icon:not(.search-container .icon) { filter: drop-shadow(0 0 5px rgba(var(--highlight-primary-rgb), 0.6)); }
    .item-icon:hover, .icon:not(.search-container .icon):hover { filter: drop-shadow(0 0 10px rgba(var(--highlight-secondary-rgb), 0.8)); }
    .search-container .icon, .search-container button { filter: drop-shadow(0 0 5px rgba(var(--highlight-primary-rgb), 0.5)); }
    .search-container .icon:hover, .search-container button:hover { filter: drop-shadow(0 0 10px rgba(var(--highlight-primary-rgb), 0.8)); }

    /* Scrollbars (DARK) */
    ::-webkit-scrollbar-thumb { box-shadow: 0 0 8px rgba(var(--highlight-primary-rgb), 0.5); }
    ::-webkit-scrollbar-thumb:hover { box-shadow: 0 0 12px rgba(var(--highlight-primary-hover-rgb), 0.8); }

    /* Alert Message (DARK) */
    .alert { text-shadow: 0 0 5px rgba(var(--text-title-rgb), 0.5); }
}


/* ========================================================================= */
/* --- LIGHT THEME STYLES (LATTE) --- */
html[data-theme="light"] {
    /* Tắt hiệu ứng sao trong light mode */
    body::before, body::after { content: none; }

    /* --- GLASS EFFECT BASE (LIGHT) --- */
    .glass-effect {
        backdrop-filter: blur(10px) saturate(150%) brightness(0.9);
        -webkit-backdrop-filter: blur(10px) saturate(150%) brightness(0.9);
    }
    .glass-effect::before { /* Lớp phản chiếu bề mặt kính */
        background: linear-gradient(135deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.03) 20%, rgba(0, 0, 0, 0.05) 30%, rgba(0, 0, 0, 0) 50%);
        mix-blend-mode: multiply; opacity: 0.7;
    }
    .glass-effect:hover::before {
        background: linear-gradient(135deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.05) 20%, rgba(0, 0, 0, 0.08) 30%, rgba(0, 0, 0, 0) 50%);
    }

    /* --- GLASS CARDS (LIGHT) --- */
    .card {
        background-color: rgba(var(--card-background-rgb), 0.75);
        border: 1px solid rgba(var(--highlight-primary-rgb), 0.1);
        box-shadow: 0 8px 25px 0 rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.03);
    }
    .card:hover {
        transform: translateY(-5px) scale(1.01);
        box-shadow: 0 12px 30px 0 rgba(0, 0, 0, 0.15), inset 0 0 0 1px rgba(0, 0, 0, 0.05);
        border-color: rgba(var(--highlight-primary-rgb), 0.2);
    }

    /* --- CRACKED GLASS EFFECT (LIGHT) --- */
    .card .card-content::after {
        content: ''; /* QUAN TRỌNG */
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="none" stroke="%236c6f85" stroke-width="0.8" stroke-linecap="round" d="M20 20 L40 40 L60 20 L80 40 M40 40 L30 60 L50 70 L70 50 L40 40 M50 70 L40 90 M70 50 L85 65 M15 50 L30 60" /><path fill="none" stroke="%234c4f69" stroke-width="0.4" stroke-linecap="round" d="M25 25 L35 35 M65 25 L75 35 M35 65 L25 75 M75 55 L85 65 M55 75 L45 85" /><path fill="none" stroke="%23303046" stroke-width="0.2" stroke-linecap="round" d="M22 23 L30 31 M68 23 L76 31 M32 68 L24 76 M78 58 L86 66 M52 78 L44 86" /></svg>'); /* SVG vết nứt màu tối */
        filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.2));
        box-shadow: none; /* Bỏ glow màu cho vết nứt */
    }
    .card:hover .card-content::after { animation-play-state: paused; } /* Tắt animation crackGlow */


    /* --- DIAGONAL SUNBEAM (LIGHT) --- */
    .card .card-content::before {
        content: ''; /* QUAN TRỌNG */
        background: linear-gradient(135deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.05) 20%, rgba(0, 0, 0, 0.2) 35%, rgba(0, 0, 0, 0.05) 50%, rgba(0, 0, 0, 0) 70%);
        filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));
        mix-blend-mode: multiply;
    }
    .card:hover .card-content::before { animation-play-state: paused; } /* Tắt animation glint */


    /* --- TEXT STYLES (LIGHT - Xóa hoặc làm dịu GLOWS) --- */
    h1, h2, h3, h4, h5, h6, p, span, div, li { text-shadow: none; }
    .title { text-shadow: none; }
    a { filter: none; }
    a:hover { text-shadow: none; filter: none; }
    .button:hover, button:not(.search-container button, nav.navbar a):hover { text-shadow: none; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); }
    .item-icon, .icon:not(.search-container .icon) { filter: none; }
    .item-icon:hover, .icon:not(.search-container .icon):hover { filter: none; }
    .search-container .icon, .search-container button { filter: none; }
    .search-container .icon:hover, .search-container button:hover { filter: none; }

    /* Scrollbars (LIGHT) */
    ::-webkit-scrollbar-thumb { box-shadow: 0 0 5px rgba(var(--highlight-primary-rgb), 0.2); }
    ::-webkit-scrollbar-thumb:hover { box-shadow: 0 0 8px rgba(var(--highlight-primary-rgb), 0.4); }

    /* Alert Message (LIGHT) */
    .alert { text-shadow: none; }
}


/* ========================================================================= */
/* --- GENERAL UI ELEMENTS (HEADER, NAV, SEARCH, BUTTONS) --- */
/* (Các style này áp dụng cho cả hai theme, màu sắc sẽ theo biến CSS) */

/* Header của Homer */
header.app-header {
    /* copy properties from .glass-effect */
    backdrop-filter: blur(18px) saturate(180%) brightness(1.1);
    -webkit-backdrop-filter: blur(18px) saturate(180%) brightness(1.1);
    border-radius: 0;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
    perspective: 1000px;
    /* unique properties */
    background-color: rgba(var(--card-background-rgb), 0.9);
    border-bottom: 1px solid rgba(var(--highlight-primary-rgb), 0.4);
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.7), inset 0 0 0 1px rgba(255, 255, 255, 0.08);
    padding: 15px 20px;
}
header.app-header .title, header.app-header .subtitle { color: var(--text-header); }
header.app-header::before { /* Lớp phản chiếu bề mặt kính cho header (copy from .glass-effect::before) */
    content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 20%, rgba(255, 255, 255, 0.08) 30%, rgba(255, 255, 255, 0) 50%);
    opacity: 0.9; mix-blend-mode: overlay; pointer-events: none; z-index: 2;
    transition: all 0.4s ease-in-out;
}
header.app-header:hover::before { /* copy from .glass-effect:hover::before */
    background: linear-gradient(135deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.15) 20%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0) 50%);
    transform: translateX(-5%) translateY(-5%);
}


/* Navigation Bar (Thanh Navbar dưới header) */
nav.navbar {
    /* copy properties from .glass-effect */
    backdrop-filter: blur(15px) saturate(160%) brightness(1.1);
    -webkit-backdrop-filter: blur(15px) saturate(160%) brightness(1.1);
    border-radius: 0;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
    perspective: 1000px;
    /* unique properties */
    background-color: rgba(var(--card-background-rgb), 0.85);
    border-top: 1px solid rgba(var(--highlight-primary-rgb), 0.3);
    border-bottom: 1px solid rgba(var(--highlight-primary-rgb), 0.3);
    box-shadow: 0 3px 15px rgba(0, 0, 0, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    padding: 0 20px;
}
nav.navbar::before { content: none; } /* Tắt lớp phản chiếu tự động của glass-effect cho navbar */
nav.navbar a {
    color: var(--text-subtitle);
    padding: 10px 15px; border-radius: 8px;
    transition: background-color 0.3s ease, color 0.3s ease;
}
nav.navbar a:hover {
    background-color: rgba(var(--highlight-primary-rgb), 0.2);
    color: var(--highlight-primary);
}


/* Footer */
footer {
    /* copy properties from .glass-effect */
    backdrop-filter: blur(12px) saturate(160%) brightness(1.05);
    -webkit-backdrop-filter: blur(12px) saturate(160%) brightness(1.05);
    border-radius: 0;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
    perspective: 1000px;
    /* unique properties */
    background-color: rgba(var(--card-background-rgb), 0.7);
    border-top: 1px solid rgba(var(--highlight-primary-rgb), 0.2);
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    color: var(--text-subtitle);
    padding: 10px 20px;
}
footer::before { content: none; } /* Tắt lớp phản chiếu tự động của glass-effect */


/* Alert Message */
.alert {
    /* copy properties from .glass-effect */
    backdrop-filter: blur(10px) saturate(180%) brightness(1.1);
    -webkit-backdrop-filter: blur(10px) saturate(180%) brightness(1.1);
    border-radius: 10px;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
    perspective: 1000px;
    /* unique properties */
    background-color: rgba(var(--card-background-rgb), 0.8);
    border: 1px solid var(--highlight-secondary);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
    padding: 15px;
    margin-bottom: 20px;
    color: var(--text-title);
}
.alert::before { content: none; } /* Tắt lớp phản chiếu tự động của glass-effect cho alert */


/* Search Bar Input */
.search-container input[type="search"] {
    /* copy properties from .glass-effect */
    backdrop-filter: blur(10px) saturate(180%) brightness(1.1);
    -webkit-backdrop-filter: blur(10px) saturate(180%) brightness(1.1);
    border-radius: 8px;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
    perspective: 1000px;
    /* unique properties */
    background-color: rgba(var(--card-background-rgb), 0.7);
    border: 1px solid rgba(var(--highlight-primary-rgb), 0.3);
    padding: 10px 15px;
    color: var(--text);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
}
.search-container input[type="search"]::before { content: none; } /* Tắt lớp phản chiếu tự động */
.search-container input[type="search"]::placeholder { color: var(--text-subtitle); opacity: 0.7; }
.search-container input[type="search"]:focus {
    outline: none;
    border-color: rgba(var(--highlight-primary-rgb), 0.6);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.1), 0 0 15px rgba(var(--highlight-primary-rgb), 0.5);
}


/* Search Icons/Buttons (trong thanh tìm kiếm) */
.search-container .icon, .search-container button {
    background: transparent; border: none;
    color: var(--text); font-size: 1.2em;
    cursor: pointer; transition: all 0.3s ease-in-out;
}
.search-container .icon:hover, .search-container button:hover {
    color: var(--highlight-primary); transform: scale(1.1);
}


/* Buttons (Các nút chung) */
.button, button:not(.search-container button, nav.navbar a) {
    background-color: rgba(var(--highlight-secondary-rgb), 0.3);
    backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(var(--highlight-secondary-rgb), 0.5);
    border-radius: 8px; padding: 8px 12px;
    color: var(--text-header); cursor: pointer;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease-in-out;
}
.button:hover, button:not(.search-container button, nav.navbar a):hover {
    background-color: rgba(var(--highlight-secondary-rgb), 0.5);
    border-color: rgba(var(--highlight-secondary-rgb), 0.8);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    color: var(--text);
}


/* Icons (Biểu tượng dịch vụ, biểu tượng UI khác) */
.item-icon, .icon:not(.search-container .icon) {
    transition: filter 0.3s ease-in-out, transform 0.3s ease-in-out;
}
.item-icon:hover, .icon:not(.search-container .icon):hover {
    transform: scale(1.1);
}


/* Scrollbars (Webkit only) */
::-webkit-scrollbar { width: 12px; background-color: transparent; }
::-webkit-scrollbar-track { background: rgba(var(--card-background-rgb), 0.3); border-radius: 10px; }
::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--highlight-primary), var(--highlight-secondary));
    border-radius: 10px; border: 1px solid rgba(255, 255, 255, 0.2);
}
::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, var(--highlight-primary-hover), var(--highlight-secondary)); }